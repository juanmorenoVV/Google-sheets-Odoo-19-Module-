<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="res_config_settings_view_form_sync_leads" model="ir.ui.view">
        <field name="name">res.config.settings.view.form.inherit.sync.leads</field>
        <field name="model">res.config.settings</field>
        <field name="inherit_id" ref="project.res_config_settings_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//block[@name='project_time']" position="after">
                <block title="IntegraciÃ³n Google Sheets" name="google_sheets_config_block">
                    
                    <setting string="Credenciales de Google" help="Sube el JSON de tu Service Account">
                        <div class="content-group">
                            <field name="google_drive_key_file" filename="google_drive_key_filename"/>
                            <field name="google_drive_key_filename" invisible="1"/>
                        </div>
                    </setting>

                    <setting string="Proyectos con sincronizaciÃ³n activa" 
                            help="Configura quÃ© proyectos sincronizarÃ¡n leads con Google Sheets">
                        <div class="content-group">
                            <div class="text-muted mb-2">
                                <i class="fa fa-info-circle"/> Selecciona proyectos y configura su ID de Google Sheet
                            </div>
                            <field name="google_sheets_project_ids" nolabel="1">
                                <list editable="bottom" create="false" delete="false">
                                    <field name="name" readonly="1" string="Proyecto"/> 
                                    <field name="google_spreadsheet_id" 
                                           string="ID Google Sheet"
                                           placeholder="Ej: 1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms"
                                           required="1"/>
                                    <field name="create_task_on_lead" 
                                           string="Crear Tarea"
                                           widget="boolean_toggle"/>
                                </list>
                            </field>
                            <div class="text-muted mt-2">
                                <small>
                                    ðŸ’¡ <b>Tip:</b> El ID estÃ¡ en la URL de tu Google Sheet despuÃ©s de /d/
                                </small>
                            </div>
                        </div>
                    </setting>

                </block>
            </xpath>
        </field>
    </record>
</odoo>